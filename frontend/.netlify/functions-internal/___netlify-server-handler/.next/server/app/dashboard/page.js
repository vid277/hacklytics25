(()=>{var e={};e.id=105,e.ids=[105],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},22204:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>l});var a=r(70260),n=r(28203),s=r(25155),i=r.n(s),o=r(67292),d={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2155)),"/Users/vidyootsenthil/Documents/projects/hacklytics25/frontend/app/dashboard/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,19611)),"/Users/vidyootsenthil/Documents/projects/hacklytics25/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/vidyootsenthil/Documents/projects/hacklytics25/frontend/app/dashboard/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},79200:(e,t,r)=>{"use strict";r.r(t),r.d(t,{"7f4a994be5f0e21c715bc409a3bf4c5255a0bddfd1":()=>h,"7f68d2e0d7a1dd6221b24700fdf1d3963eb6e8c3d7":()=>u,"7f73b7229074486dfdb0c932c4446c7d5bf7902749":()=>m,"7f8d662eaf3a7d59ad752897cb1dc29ac8ad7d339f":()=>f,"7fd950f0f0d4196c9020ef0a2d48f62dae8f92ed76":()=>c});var a=r(21590);r(70376);var n=r(99184);function s(e,t,r){return(0,n.redirect)(`${t}?${e}=${encodeURIComponent(r)}`)}var i=r(24683),o=r(42385);let d=()=>{let e=(0,o.UL)();return(0,i.createServerClient)("https://pristirosscbgmkblozz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByaXN0aXJvc3NjYmdta2Jsb3p6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDAyMDI2MzQsImV4cCI6MjA1NTc3ODYzNH0.7NWqkC5MUndwTxuLGlyBIEskItFzJ3M8iAKcARc_1yM",{cookies:{get:t=>e.get(t)?.value,set(t,r,a){try{e.set({name:t,value:r,...a})}catch(e){}},remove(t,r){try{e.delete(t)}catch(e){}}}})};var l=r(99344);let c=async e=>{let t=e.get("email")?.toString(),r=e.get("password")?.toString(),a=e.get("display_name")?.toString()||t,n=await d(),i=(await (0,o.b3)()).get("origin");if(!t||!r)return s("error","/sign-up","Email and password are required");let{data:l,error:c}=await n.auth.signUp({email:t,password:r,options:{emailRedirectTo:`${i}/auth/callback`,data:{display_name:a}}});if(c)return console.error(c.code+" "+c.message),s("error","/sign-up",c.message);let{error:u}=await n.from("users").upsert({id:l.user?.id,email:t,display_name:a,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),transactions:[],lending_active:null},{onConflict:"id"});return u?(console.error("Error creating user profile:",u),s("error","/sign-up","Error creating user profile")):s("success","/sign-up","Thanks for signing up! Please check your email for a verification link.")},u=async e=>{let t=e.get("email"),r=e.get("password"),a=await d(),{error:i}=await a.auth.signInWithPassword({email:t,password:r});if(i)return s("error","/sign-in",i.message);let{data:{user:o},error:l}=await a.auth.getUser();return!o||l?s("error","/sign-in","Authentication failed"):(0,n.redirect)("/dashboard")},m=async e=>{let t=e.get("email")?.toString(),r=await d(),a=(await (0,o.b3)()).get("origin"),i=e.get("callbackUrl")?.toString();if(!t)return s("error","/forgot-password","Email is required");let{error:l}=await r.auth.resetPasswordForEmail(t,{redirectTo:`${a}/auth/callback?redirect_to=/protected/reset-password`});return l?(console.error(l.message),s("error","/forgot-password","Could not reset password")):i?(0,n.redirect)(i):s("success","/forgot-password","Check your email for a link to reset your password.")},h=async e=>{let t=await d(),r=e.get("password"),a=e.get("confirmPassword");r&&a||s("error","/protected/reset-password","Password and confirm password are required"),r!==a&&s("error","/protected/reset-password","Passwords do not match");let{error:n}=await t.auth.updateUser({password:r});n&&s("error","/protected/reset-password","Password update failed"),s("success","/protected/reset-password","Password updated")},f=async()=>{let e=await d();await e.auth.signOut();let{data:{user:t}}=await e.auth.getUser();return t?s("error","/dashboard","Sign out failed"):(0,n.redirect)("/sign-in")};(0,l.D)([c,u,m,h,f]),(0,a.A)(c,"7fd950f0f0d4196c9020ef0a2d48f62dae8f92ed76",null),(0,a.A)(u,"7f68d2e0d7a1dd6221b24700fdf1d3963eb6e8c3d7",null),(0,a.A)(m,"7f73b7229074486dfdb0c932c4446c7d5bf7902749",null),(0,a.A)(h,"7f4a994be5f0e21c715bc409a3bf4c5255a0bddfd1",null),(0,a.A)(f,"7f8d662eaf3a7d59ad752897cb1dc29ac8ad7d339f",null)},43145:(e,t,r)=>{Promise.resolve().then(r.bind(r,68028))},33417:(e,t,r)=>{Promise.resolve().then(r.bind(r,46713))},46713:(e,t,r)=>{"use strict";r.d(t,{DashboardContent:()=>ep});var a=r(45512),n=r(58009),s=r(42525),i=r(87021),o=r(28531),d=r.n(o),l=r(79334),c=r(77252),u=r(65242),m=r(97643),h=r(86235),f=r(41680);let g=(0,f.A)("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]),p=(0,f.A)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),x=(0,f.A)("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]),b=(0,f.A)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]),w=(0,f.A)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function y(){let[e,t]=(0,n.useState)(null),[r,s]=(0,n.useState)(!1),[o,d]=(0,n.useState)(null),l=async()=>{s(!0),d(null);try{let e=await fetch("/api/system-stats");if(!e.ok)throw Error("Failed to scan system");let r=await e.json();t(r)}catch(e){d(e instanceof Error?e.message:"Failed to scan system")}finally{s(!1)}},c=e=>`${(e/0x40000000).toFixed(2)} GB`;return(0,a.jsxs)(m.Z,{className:"bg-white border rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini",children:"System Status"}),(0,a.jsx)(i.$,{onClick:l,disabled:r,variant:"outline",className:"font-hanken",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Scanning..."]}):"Scan System"})]}),o&&(0,a.jsx)("p",{className:"text-red-500 font-hanken text-sm mb-4",children:o}),e&&(0,a.jsxs)("div",{className:"space-y-4 font-hanken",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"System:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.hostname," (",e.platform," ",e.architecture,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"CPU:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.cpu_info," (",e.cpu_cores," cores) - ",e.cpu_usage,"% usage"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Memory:"}),(0,a.jsxs)("span",{className:"font-medium",children:[c(e.memory_used)," /"," ",c(e.memory_total)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Uptime:"}),(0,a.jsx)("span",{className:"font-medium",children:(e=>{let t=Math.floor(e/3600),r=Math.floor(e%3600/60);return`${t}h ${r}m`})(e.uptime)})]}),(0,a.jsxs)("div",{className:"border-t pt-4 mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(w,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"System Score:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.capabilities.score,"/100 (Best for"," ",e.capabilities.bestFor," tasks)"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Recommendations:"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:e.capabilities.recommendations.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-4",children:["Last updated: ",new Date(e.last_updated).toLocaleString()]})]}),!e&&!o&&(0,a.jsx)("p",{className:"text-muted-foreground font-hanken",children:'Click "Scan System" to check your system stats'})]})}var v=r(4643),j=r(24849),N=r(28638),k=r(98755),M=r(59462),S=r(59190);let P=Array.from({length:24},(e,t)=>t),C=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function D(){let{user:e,loading:t,session:r}=(0,u.A)(),{toast:o}=(0,S.d)(),[d,l]=(0,n.useState)(!1),[c,h]=(0,n.useState)(!1),[f,g]=(0,n.useState)(C.reduce((e,t)=>({...e,[t]:{enabled:!0,slots:P.map(e=>({hour:e,selected:!1}))}}),{})),[p,x]=(0,n.useState)({isDragging:!1,startDay:null,startHour:null,selecting:!1}),b=(0,n.useRef)(null),[w,y]=(0,n.useState)(!1),D=e=>`${0===e?12:e>12?e-12:e}${e>=12?" PM":" AM"}`,A=e=>e.charAt(0).toUpperCase()+e.slice(1),q=(e,t,r)=>{x({isDragging:!0,startDay:e,startHour:t,selecting:!r}),g(a=>({...a,[e]:{...a[e],slots:a[e].slots.map(e=>e.hour===t?{...e,selected:!r}:e)}}))},E=(e,t)=>{p.isDragging&&g(r=>({...r,[e]:{...r[e],slots:r[e].slots.map(e=>e.hour===t?{...e,selected:p.selecting}:e)}}))},_=async()=>{if(!r||!e)return;let t=Object.entries(f).reduce((e,[t,{slots:r}])=>{let a=r.map(e=>e.selected?"1":"0").join("");return{...e,[t]:a}},{}),a=C.map(e=>t[e]).join("");try{let{data:t,error:r}=await s.N.from("users").select("*").eq("id",e.id).single();if(r){if("PGRST116"===r.code){let{data:t,error:r}=await s.N.from("users").insert({id:e.id,email:e.email,display_name:e.email,lending_active:a,updated_at:new Date().toISOString(),transactions:[]}).select();if(r)throw o({variant:"destructive",title:"Error saving schedule",description:"Failed to create new schedule. Please try again."}),r;o({title:"Schedule created",description:"Your lending schedule has been created successfully."});return}throw r}let{data:n,error:i}=await s.N.from("users").update({lending_active:a,updated_at:new Date().toISOString()}).eq("id",e.id).select();if(i)throw o({variant:"destructive",title:"Error saving schedule",description:"Failed to update schedule. Please try again."}),i;o({title:"Schedule updated!",description:"Your lending schedule has been updated."})}catch(e){console.error("Error saving schedule:",e),o({variant:"destructive",title:"Error saving schedule",description:"An unexpected error occurred. Please try again."})}};return d?t?(0,a.jsx)(m.Z,{className:"bg-white border rounded-lg shadow-sm p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):r&&e?(0,a.jsxs)(m.Z,{className:"bg-white border rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(v.A,{className:"h-5 w-5"}),(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini",children:"Lending Schedule"})]}),(0,a.jsx)("p",{className:"text-base text-muted-foreground font-hanken mb-6",children:"Click and drag to select multiple time slots when you're available."}),c?(0,a.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex gap-[1px] overflow-x-auto pb-4 select-none",ref:b,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-[1px] pr-2 sticky left-0 bg-white z-10",children:[(0,a.jsx)("div",{className:"h-8 font-medium font-hanken"}),P.slice(0,w?P.length:12).map(e=>(0,a.jsx)("div",{className:"h-8 flex items-center justify-end pr-2 text-sm text-muted-foreground font-hanken",children:D(e)},e))]}),C.map(e=>(0,a.jsxs)("div",{className:"flex flex-col gap-[1px] min-w-[100px]",children:[(0,a.jsx)("div",{className:"h-8 font-medium font-hanken text-center border-b",children:A(e)}),f[e].slots.slice(0,w?P.length:12).map((t,r)=>(0,a.jsxs)("button",{onMouseDown:()=>q(e,t.hour,t.selected),onMouseEnter:()=>E(e,t.hour),className:(0,M.cn)("h-8 text-xs font-medium transition-colors relative","hover:bg-primary/90 hover:text-primary-foreground",t.selected?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground","border-r border-background last:border-r-0",r%2==0?"bg-opacity-90":"bg-opacity-100"),children:[t.selected&&(0,a.jsx)(j.A,{className:"h-3 w-3 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}),(0,a.jsx)("span",{className:"sr-only",children:D(t.hour)})]},r))]},e))]}),!w&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-white to-transparent pointer-events-none"}),(0,a.jsx)("div",{className:"flex justify-center mt-2",children:(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>y(!w),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:w?(0,a.jsxs)(a.Fragment,{children:["Show Less ",(0,a.jsx)(N.A,{className:"h-4 w-4"})]}):(0,a.jsxs)(a.Fragment,{children:["Show More ",(0,a.jsx)(k.A,{className:"h-4 w-4"})]})})}),w&&(0,a.jsx)(i.$,{onClick:_,className:"w-full mt-6",children:"Save Schedule"})]})]}):(0,a.jsx)(m.Z,{className:"bg-white border rounded-lg shadow-sm p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Please sign in to manage your schedule"})})}):null}let A=(0,f.A)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),q=(0,f.A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);var E=r(71965);let _={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function W(e){return (t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}let z={date:W({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:W({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:W({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},F={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function O(e){return(t,r)=>{let a;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,n=r?.width?String(r.width):t;a=e.formattingValues[n]||e.formattingValues[t]}else{let t=e.defaultWidth,n=r?.width?String(r.width):e.defaultWidth;a=e.values[n]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}function Y(e){return(t,r={})=>{let a;let n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;let o=i[0],d=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(d)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}(d,e=>e.test(o)):function(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}(d,e=>e.test(o));return a=e.valueCallback?e.valueCallback(l):l,{value:a=r.valueCallback?r.valueCallback(a):a,rest:t.slice(o.length)}}}let T={code:"en-US",formatDistance:(e,t,r)=>{let a;let n=_[e];return(a="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),r?.addSuffix)?r.comparison&&r.comparison>0?"in "+a:a+" ago":a},formatLong:z,formatRelative:(e,t,r,a)=>F[e],localize:{ordinalNumber:(e,t)=>{let r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:O({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:O({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:O({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:O({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:O({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:function(e){return(t,r={})=>{let a=t.match(e.matchPattern);if(!a)return null;let n=a[0],s=t.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];return{value:i=r.valueCallback?r.valueCallback(i):i,rest:t.slice(n.length)}}}({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)}),era:Y({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Y({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Y({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Y({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Y({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}},L={},I=Symbol.for("constructDateFrom");function H(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&I in e?e[I](t):e instanceof Date?new e.constructor(t):new Date(t)}function $(e,t){return H(t||e,e)}function U(e){let t=$(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function R(e,t){let r=$(e,t?.in);return r.setHours(0,0,0,0),r}function G(e,t){let r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??L.weekStartsOn??L.locale?.options?.weekStartsOn??0,a=$(e,t?.in),n=a.getDay();return a.setDate(a.getDate()-((n<r?7:0)+n-r)),a.setHours(0,0,0,0),a}function J(e,t){return G(e,{...t,weekStartsOn:1})}function B(e,t){let r=$(e,t?.in),a=r.getFullYear(),n=H(r,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);let s=J(n),i=H(r,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);let o=J(i);return r.getTime()>=s.getTime()?a+1:r.getTime()>=o.getTime()?a:a-1}function X(e,t){let r=$(e,t?.in),a=r.getFullYear(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??L.firstWeekContainsDate??L.locale?.options?.firstWeekContainsDate??1,s=H(t?.in||e,0);s.setFullYear(a+1,0,n),s.setHours(0,0,0,0);let i=G(s,t),o=H(t?.in||e,0);o.setFullYear(a,0,n),o.setHours(0,0,0,0);let d=G(o,t);return+r>=+i?a+1:+r>=+d?a:a-1}function Q(e,t){let r=Math.abs(e).toString().padStart(t,"0");return(e<0?"-":"")+r}let V={y(e,t){let r=e.getFullYear(),a=r>0?r:1-r;return Q("yy"===t?a%100:a,t.length)},M(e,t){let r=e.getMonth();return"M"===t?String(r+1):Q(r+1,2)},d:(e,t)=>Q(e.getDate(),t.length),a(e,t){let r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>Q(e.getHours()%12||12,t.length),H:(e,t)=>Q(e.getHours(),t.length),m:(e,t)=>Q(e.getMinutes(),t.length),s:(e,t)=>Q(e.getSeconds(),t.length),S(e,t){let r=t.length;return Q(Math.trunc(e.getMilliseconds()*Math.pow(10,r-3)),t.length)}},Z={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K={G:function(e,t,r){let a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(a,{width:"abbreviated"});case"GGGGG":return r.era(a,{width:"narrow"});default:return r.era(a,{width:"wide"})}},y:function(e,t,r){if("yo"===t){let t=e.getFullYear();return r.ordinalNumber(t>0?t:1-t,{unit:"year"})}return V.y(e,t)},Y:function(e,t,r,a){let n=X(e,a),s=n>0?n:1-n;return"YY"===t?Q(s%100,2):"Yo"===t?r.ordinalNumber(s,{unit:"year"}):Q(s,t.length)},R:function(e,t){return Q(B(e),t.length)},u:function(e,t){return Q(e.getFullYear(),t.length)},Q:function(e,t,r){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Q(a,2);case"Qo":return r.ordinalNumber(a,{unit:"quarter"});case"QQQ":return r.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(a,{width:"narrow",context:"formatting"});default:return r.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,r){let a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Q(a,2);case"qo":return r.ordinalNumber(a,{unit:"quarter"});case"qqq":return r.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(a,{width:"narrow",context:"standalone"});default:return r.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,r){let a=e.getMonth();switch(t){case"M":case"MM":return V.M(e,t);case"Mo":return r.ordinalNumber(a+1,{unit:"month"});case"MMM":return r.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(a,{width:"narrow",context:"formatting"});default:return r.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,r){let a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Q(a+1,2);case"Lo":return r.ordinalNumber(a+1,{unit:"month"});case"LLL":return r.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(a,{width:"narrow",context:"standalone"});default:return r.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,r,a){let n=function(e,t){let r=$(e,t?.in);return Math.round((+G(r,t)-+function(e,t){let r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??L.firstWeekContainsDate??L.locale?.options?.firstWeekContainsDate??1,a=X(e,t),n=H(t?.in||e,0);return n.setFullYear(a,0,r),n.setHours(0,0,0,0),G(n,t)}(r,t))/6048e5)+1}(e,a);return"wo"===t?r.ordinalNumber(n,{unit:"week"}):Q(n,t.length)},I:function(e,t,r){let a=function(e,t){let r=$(e,void 0);return Math.round((+J(r)-+function(e,t){let r=B(e,void 0),a=H(e,0);return a.setFullYear(r,0,4),a.setHours(0,0,0,0),J(a)}(r))/6048e5)+1}(e);return"Io"===t?r.ordinalNumber(a,{unit:"week"}):Q(a,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):V.d(e,t)},D:function(e,t,r){let a=function(e,t){let r=$(e,void 0);return function(e,t,r){let[a,n]=function(e,...t){let r=H.bind(null,e||t.find(e=>"object"==typeof e));return t.map(r)}(void 0,e,t),s=R(a),i=R(n);return Math.round((+s-U(s)-(+i-U(i)))/864e5)}(r,function(e,t){let r=$(e,void 0);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}(r))+1}(e);return"Do"===t?r.ordinalNumber(a,{unit:"dayOfYear"}):Q(a,t.length)},E:function(e,t,r){let a=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,r,a){let n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return Q(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(n,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},c:function(e,t,r,a){let n=e.getDay(),s=(n-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return Q(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(n,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(n,{width:"narrow",context:"standalone"});case"cccccc":return r.day(n,{width:"short",context:"standalone"});default:return r.day(n,{width:"wide",context:"standalone"})}},i:function(e,t,r){let a=e.getDay(),n=0===a?7:a;switch(t){case"i":return String(n);case"ii":return Q(n,t.length);case"io":return r.ordinalNumber(n,{unit:"day"});case"iii":return r.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,r){let a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){let a;let n=e.getHours();switch(a=12===n?Z.noon:0===n?Z.midnight:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){let a;let n=e.getHours();switch(a=n>=17?Z.evening:n>=12?Z.afternoon:n>=4?Z.morning:Z.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return V.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):V.H(e,t)},K:function(e,t,r){let a=e.getHours()%12;return"Ko"===t?r.ordinalNumber(a,{unit:"hour"}):Q(a,t.length)},k:function(e,t,r){let a=e.getHours();return(0===a&&(a=24),"ko"===t)?r.ordinalNumber(a,{unit:"hour"}):Q(a,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):V.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):V.s(e,t)},S:function(e,t){return V.S(e,t)},X:function(e,t,r){let a=e.getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return et(a);case"XXXX":case"XX":return er(a);default:return er(a,":")}},x:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"x":return et(a);case"xxxx":case"xx":return er(a);default:return er(a,":")}},O:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ee(a,":");default:return"GMT"+er(a,":")}},z:function(e,t,r){let a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ee(a,":");default:return"GMT"+er(a,":")}},t:function(e,t,r){return Q(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return Q(+e,t.length)}};function ee(e,t=""){let r=e>0?"-":"+",a=Math.abs(e),n=Math.trunc(a/60),s=a%60;return 0===s?r+String(n):r+String(n)+t+Q(s,2)}function et(e,t){return e%60==0?(e>0?"-":"+")+Q(Math.abs(e)/60,2):er(e,t)}function er(e,t=""){let r=Math.abs(e);return(e>0?"-":"+")+Q(Math.trunc(r/60),2)+t+Q(r%60,2)}let ea=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},en=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},es={p:en,P:(e,t)=>{let r;let a=e.match(/(P+)(p+)?/)||[],n=a[1],s=a[2];if(!s)return ea(e,t);switch(n){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",ea(n,t)).replace("{{time}}",en(s,t))}},ei=/^D+$/,eo=/^Y+$/,ed=["D","DD","YY","YYYY"],el=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ec=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,eu=/^'([^]*?)'?$/,em=/''/g,eh=/[a-zA-Z]/;function ef(e,t,r){let a=r?.locale??L.locale??T,n=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??L.firstWeekContainsDate??L.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??L.weekStartsOn??L.locale?.options?.weekStartsOn??0,i=$(e,r?.in);if(!(i instanceof Date||"object"==typeof i&&"[object Date]"===Object.prototype.toString.call(i))&&"number"!=typeof i||isNaN(+$(i)))throw RangeError("Invalid time value");let o=t.match(ec).map(e=>{let t=e[0];return"p"===t||"P"===t?(0,es[t])(e,a.formatLong):e}).join("").match(el).map(e=>{if("''"===e)return{isToken:!1,value:"'"};let t=e[0];if("'"===t)return{isToken:!1,value:function(e){let t=e.match(eu);return t?t[1].replace(em,"'"):e}(e)};if(K[t])return{isToken:!0,value:e};if(t.match(eh))throw RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});a.localize.preprocessor&&(o=a.localize.preprocessor(i,o));let d={firstWeekContainsDate:n,weekStartsOn:s,locale:a};return o.map(n=>{if(!n.isToken)return n.value;let s=n.value;return(!r?.useAdditionalWeekYearTokens&&eo.test(s)||!r?.useAdditionalDayOfYearTokens&&ei.test(s))&&function(e,t,r){let a=function(e,t,r){let a="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(a),ed.includes(e))throw RangeError(a)}(s,t,String(e)),(0,K[s[0]])(i,s,a.localize,d)}).join("")}let eg=(e,t,r)=>t?"success":r?"warning":"default";function ep(){let{user:e}=(0,u.A)(),[t,r]=(0,n.useState)(!1),[s,o]=(0,n.useState)([]),[m,f]=(0,n.useState)([]),[g,p]=(0,n.useState)(0),[x,b]=(0,n.useState)(0);(0,l.useRouter)();let[w,v]=(0,n.useState)(!1),[j,N]=(0,n.useState)(null),[k,M]=(0,n.useState)(!1),[P,C]=(0,n.useState)({}),[_,W]=(0,n.useState)(!1),{toast:z}=(0,S.d)(),F=e=>{if(!e)return"N/A";try{return ef(new Date(e),"MMM d, yyyy")}catch{return"Invalid date"}},O=async e=>{try{await navigator.clipboard.writeText(e),z({title:"Copied to clipboard",description:"Job logs have been copied to your clipboard"})}catch(e){z({title:"Failed to copy",description:"Could not copy logs to clipboard",variant:"destructive"})}},Y=(e,t)=>{let r=new Blob([t],{type:"text/plain"}),a=window.URL.createObjectURL(r),n=document.createElement("a");n.href=a,n.download=`job-${e}-logs.txt`,document.body.appendChild(n),n.click(),window.URL.revokeObjectURL(a),document.body.removeChild(n)};if(!_)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,a.jsx)(h.A,{className:"h-8 w-8 animate-spin text-primary"})});let T=e=>{N(e)},L=async t=>{if(!e){z({title:"Error",description:"You must be logged in to download files",variant:"destructive"});return}try{let r=await fetch(`http://localhost:8000/retrieve-files-for-job?job_id=${t}&uuid=${e.id}`);(await r.json()).files.forEach(e=>{let t=new Blob([atob(e.content)],{type:"application/octet-stream"}),r=window.URL.createObjectURL(t),a=document.createElement("a");a.href=r,a.download=e.filename,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(r),document.body.removeChild(a)})}catch(e){console.error("Error downloading files:",e)}},I=e=>(0,a.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50/50 transition-all duration-200 backdrop-blur-sm shadow-sm hover:shadow-md",children:(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsxs)("div",{className:"space-y-2 w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("p",{className:"font-hanken text-sm",children:["ID: ",e.id]}),(0,a.jsxs)("p",{className:"font-hanken text-xs text-muted-foreground break-all",children:[(0,a.jsx)("span",{className:"font-bold",children:"Job ID:"})," ",e.job_id||"N/A"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(c.E,{variant:eg(e.status,e.completed,e.lender_id),children:e.completed?"Completed":e.lender_id?"In Progress":"Pending"})})]}),(0,a.jsxs)("p",{className:"font-hanken text-sm text-muted-foreground",children:["Created: ",F(e.created_at)]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(e.completed||e.lender_id)&&(0,a.jsx)("span",{className:"text-sm text-primary underline cursor-pointer hover:text-primary/80 font-hanken",onClick:t=>{t.stopPropagation(),T(e)},children:"See logs"}),e.completed&&(0,a.jsx)(i.$,{variant:"outline",size:"sm",onClick:t=>{t.stopPropagation(),L(e.job_id)},children:"Download"})]})]})})},e.id);return(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-6 p-4 md:p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-medium font-oddlini",children:"Dashboard"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(i.$,{asChild:!0,variant:"outline",children:(0,a.jsx)(d(),{href:"/create",children:"Upload New Image"})}),(0,a.jsx)(i.$,{asChild:!0,children:(0,a.jsx)(d(),{href:"/jobs",children:"View All Jobs"})})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white/95 border rounded-lg shadow-sm backdrop-blur-sm p-6 transition-all duration-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini mb-4",children:"Your Uploads"}),w?(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[200px]",children:(0,a.jsx)(h.A,{className:"h-8 w-8 animate-spin text-gray-500"})}):s.length>0?(0,a.jsxs)("div",{className:"space-y-4",children:[(k?s:s.slice(0,4)).map(I),s.length>4&&(0,a.jsx)(i.$,{variant:"ghost",className:"w-full",onClick:()=>M(!k),children:k?"Show Less":`Show ${s.length-4} More`})]}):(0,a.jsx)("p",{className:"text-muted-foreground font-hanken",children:"No uploads yet"})]}),(0,a.jsxs)("div",{className:"bg-white/95 border rounded-lg shadow-sm backdrop-blur-sm p-6 transition-all duration-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini mb-4",children:"Your Lending"}),m.length>0?(0,a.jsxs)("div",{className:"space-y-4",children:[m.map(I),(0,a.jsx)(i.$,{asChild:!0,variant:"ghost",className:"w-full",children:(0,a.jsx)(d(),{href:"/jobs",children:"View All Lending"})})]}):(0,a.jsx)("p",{className:"text-muted-foreground font-hanken",children:"No lending activity yet"})]}),(0,a.jsxs)("div",{className:"bg-white/95 border rounded-lg shadow-sm backdrop-blur-sm p-6 transition-all duration-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini mb-1",children:"Money Spent"}),(0,a.jsx)("p",{className:"text-muted-foreground font-hanken mb-4",children:"Money will be charged upon the succesful completion of the job"}),(0,a.jsxs)("div",{className:"flex items-baseline",children:[(0,a.jsxs)("span",{className:"text-3xl font-bold font-hanken text-primary",children:["$",g.toFixed(2)]}),(0,a.jsx)("span",{className:"ml-2 text-sm text-muted-foreground font-hanken",children:"total spent on compute"})]})]}),(0,a.jsxs)("div",{className:"bg-white/95 border rounded-lg shadow-sm backdrop-blur-sm p-6 transition-all duration-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini mb-1",children:"Money Received"}),(0,a.jsx)("p",{className:"text-muted-foreground font-hanken mb-4",children:"Money will be awarded upon the succesful completion of the job"}),(0,a.jsxs)("div",{className:"flex items-baseline",children:[(0,a.jsxs)("span",{className:"text-3xl font-bold font-hanken text-green-600",children:["$",x.toFixed(2)]}),(0,a.jsx)("span",{className:"ml-2 text-sm text-muted-foreground font-hanken",children:"total earned from lending"})]})]})]}),(0,a.jsx)(y,{}),(0,a.jsx)(D,{}),(0,a.jsx)(E.lG,{open:!!j,onOpenChange:()=>N(null),children:(0,a.jsxs)(E.Cf,{className:"sm:max-w-[600px] w-[700px] shadow-lg backdrop-blur-[2px] bg-white/95 border-none",children:[(0,a.jsx)(E.c7,{className:"mb-3",children:(0,a.jsx)(E.L3,{children:"Job Details"})}),j&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"ID"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:j.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Job ID"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground break-all",children:j.job_id||"N/A"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Status"}),(0,a.jsx)(c.E,{variant:eg(j.status,j.completed,j.lender_id),children:j.completed?"Completed":j.lender_id?"In Progress":"Pending"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Compute Type"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:j.compute_type?.toLocaleUpperCase()||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Price"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",j.price?.toFixed(2)||"0.00"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Created At"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:(e=>{if(!e)return"N/A";try{return ef(new Date(e),"MMM d, yyyy HH:mm")}catch{return"Invalid date"}})(j.created_at)})]}),void 0!==j.progress&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Progress"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[j.progress,"%"]})]}),j.error_message&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-red-500",children:"Error"}),(0,a.jsx)("p",{className:"text-sm text-red-500",children:j.error_message})]})]}),P[j.job_id]&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2 w-[93%]",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Logs"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>O(P[j.job_id]),className:"h-8",children:[(0,a.jsx)(A,{className:"h-4 w-4 mr-1"}),"Copy"]}),(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>Y(j.job_id,P[j.job_id]),className:"h-8",children:[(0,a.jsx)(q,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}),(0,a.jsxs)("div",{className:"w-[93%]",children:[(0,a.jsx)("pre",{className:"text-sm text-muted-foreground whitespace-pre-wrap bg-slate-950 text-slate-50 p-4 rounded-md font-mono max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800",children:(0,a.jsx)("code",{children:P[j.job_id]})}),(0,a.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-4 bg-gradient-to-t from-slate-950/50 to-transparent pointer-events-none"})]})]})]})]})})]})}},77252:(e,t,r)=>{"use strict";r.d(t,{E:()=>o});var a=r(45512);r(58009);var n=r(21643),s=r(59462);let i=(0,n.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-amber-100 text-amber-800 hover:bg-amber-200"}},defaultVariants:{variant:"default"}});function o({className:e,variant:t,...r}){return(0,a.jsx)("div",{className:(0,s.cn)(i({variant:t}),e),...r})}},87021:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(45512),n=r(58009),s=r(12705),i=r(21643),o=r(59462);let d=(0,i.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},l)=>{let c=n?s.DX:"button";return(0,a.jsx)(c,{className:(0,o.cn)(d({variant:t,size:r,className:e})),ref:l,...i})});l.displayName="Button"},97643:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var a=r(45512),n=r(58009),s=r(59462);let i=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card"},71965:(e,t,r)=>{"use strict";r.d(t,{Cf:()=>u,Es:()=>h,L3:()=>f,c7:()=>m,lG:()=>d,rr:()=>g});var a=r(45512),n=r(58009),s=r(27553),i=r(44269),o=r(59462);let d=s.bL;s.l9;let l=s.ZL;s.bm;let c=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.hJ,{ref:r,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c.displayName=s.hJ.displayName;let u=n.forwardRef(({className:e,children:t,...r},n)=>(0,a.jsxs)(l,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(s.UC,{ref:n,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,(0,a.jsxs)(s.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(i.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=s.UC.displayName;let m=({className:e,...t})=>(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});m.displayName="DialogHeader";let h=({className:e,...t})=>(0,a.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});h.displayName="DialogFooter";let f=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.hE,{ref:r,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));f.displayName=s.hE.displayName;let g=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)(s.VY,{ref:r,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));g.displayName=s.VY.displayName},24849:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},98755:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},28638:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(41680).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},2155:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(62740),n=r(23253),s=r(31831),i=r(68028);async function o(){let e=await (0,n.U)(),{data:{session:t}}=await e.auth.getSession();return t?(0,a.jsx)(i.DashboardContent,{}):(0,s.redirect)("/sign-in")}},68028:(e,t,r)=>{"use strict";r.d(t,{DashboardContent:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call DashboardContent() from the server but DashboardContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vidyootsenthil/Documents/projects/hacklytics25/frontend/components/dashboard-content.tsx","DashboardContent")},46055:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(88077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,758,134,77,69,798,515,851],()=>r(22204));module.exports=a})();