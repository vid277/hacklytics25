(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{5863:(e,t,s)=>{Promise.resolve().then(s.bind(s,5832))},5832:(e,t,s)=>{"use strict";s.d(t,{DashboardContent:()=>P});var a=s(5155),r=s(2115),n=s(4457),l=s(4085),i=s(8173),d=s.n(i),o=s(6046),c=s(9286),m=s(6888),u=s(5007),h=s(4505),x=s(1825),f=s(9257),p=s(1702),g=s(6745),j=s(7072);function b(){let[e,t]=(0,r.useState)(null),[s,n]=(0,r.useState)(!1),[i,d]=(0,r.useState)(null),o=async()=>{n(!0),d(null);try{let e=await fetch("/api/system-stats");if(!e.ok)throw Error("Failed to scan system");let s=await e.json();t(s)}catch(e){d(e instanceof Error?e.message:"Failed to scan system")}finally{n(!1)}},c=e=>"".concat((e/0x40000000).toFixed(2)," GB");return(0,a.jsxs)(u.Z,{className:"bg-white border rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini",children:"System Status"}),(0,a.jsx)(l.$,{onClick:o,disabled:s,variant:"outline",className:"font-hanken",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Scanning..."]}):"Scan System"})]}),i&&(0,a.jsx)("p",{className:"text-red-500 font-hanken text-sm mb-4",children:i}),e&&(0,a.jsxs)("div",{className:"space-y-4 font-hanken",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"System:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.hostname," (",e.platform," ",e.architecture,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"CPU:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.cpu_info," (",e.cpu_cores," cores) - ",e.cpu_usage,"% usage"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Memory:"}),(0,a.jsxs)("span",{className:"font-medium",children:[c(e.memory_used)," /"," ",c(e.memory_total)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Uptime:"}),(0,a.jsx)("span",{className:"font-medium",children:(e=>{let t=Math.floor(e/3600),s=Math.floor(e%3600/60);return"".concat(t,"h ").concat(s,"m")})(e.uptime)})]}),(0,a.jsxs)("div",{className:"border-t pt-4 mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)(j.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"System Score:"}),(0,a.jsxs)("span",{className:"font-medium",children:[e.capabilities.score,"/100 (Best for"," ",e.capabilities.bestFor," tasks)"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Recommendations:"}),(0,a.jsx)("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-1",children:e.capabilities.recommendations.map((e,t)=>(0,a.jsx)("li",{children:e},t))})]})]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-4",children:["Last updated: ",new Date(e.last_updated).toLocaleString()]})]}),!e&&!i&&(0,a.jsx)("p",{className:"text-muted-foreground font-hanken",children:'Click "Scan System" to check your system stats'})]})}var v=s(6889),N=s(8867),y=s(1902),w=s(1719),k=s(9602),S=s(5158);let _=Array.from({length:24},(e,t)=>t),C=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"];function E(){let{user:e,loading:t,session:s}=(0,m.A)(),{toast:i}=(0,S.d)(),[d,o]=(0,r.useState)(!1),[c,h]=(0,r.useState)(!1),[x,f]=(0,r.useState)(C.reduce((e,t)=>({...e,[t]:{enabled:!0,slots:_.map(e=>({hour:e,selected:!1}))}}),{})),[p,g]=(0,r.useState)({isDragging:!1,startDay:null,startHour:null,selecting:!1}),j=(0,r.useRef)(null),[b,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{o(!0)},[]),(0,r.useEffect)(()=>{d&&e&&(async()=>{h(!0);try{let{data:t,error:s}=await n.N.from("users").select("lending_active").eq("id",e.id).single();if(s)throw s;if(null==t?void 0:t.lending_active){let e=t.lending_active,s=C.reduce((t,s,a)=>{let r=e.slice(24*a,(a+1)*24);return{...t,[s]:{enabled:!0,slots:_.map(e=>({hour:e,selected:"1"===r[e]}))}}},{});f(s)}}catch(e){console.error("Error fetching schedule:",e)}finally{h(!1)}})()},[d,e]);let A=e=>"".concat(0===e?12:e>12?e-12:e).concat(e>=12?" PM":" AM"),D=e=>e.charAt(0).toUpperCase()+e.slice(1),I=(e,t,s)=>{g({isDragging:!0,startDay:e,startHour:t,selecting:!s}),f(a=>({...a,[e]:{...a[e],slots:a[e].slots.map(e=>e.hour===t?{...e,selected:!s}:e)}}))},M=(e,t)=>{p.isDragging&&f(s=>({...s,[e]:{...s[e],slots:s[e].slots.map(e=>e.hour===t?{...e,selected:p.selecting}:e)}}))},L=()=>{g({isDragging:!1,startDay:null,startHour:null,selecting:!1})};(0,r.useEffect)(()=>{let e=()=>{p.isDragging&&L()};return window.addEventListener("mouseup",e),()=>window.removeEventListener("mouseup",e)},[p.isDragging]);let P=async()=>{if(!s||!e)return;let t=Object.entries(x).reduce((e,t)=>{let[s,{slots:a}]=t,r=a.map(e=>e.selected?"1":"0").join("");return{...e,[s]:r}},{}),a=C.map(e=>t[e]).join("");try{let{data:t,error:s}=await n.N.from("users").select("*").eq("id",e.id).single();if(s){if("PGRST116"===s.code){let{data:t,error:s}=await n.N.from("users").insert({id:e.id,email:e.email,display_name:e.email,lending_active:a,updated_at:new Date().toISOString(),transactions:[]}).select();if(s)throw i({variant:"destructive",title:"Error saving schedule",description:"Failed to create new schedule. Please try again."}),s;i({title:"Schedule created",description:"Your lending schedule has been created successfully."});return}throw s}let{data:r,error:l}=await n.N.from("users").update({lending_active:a,updated_at:new Date().toISOString()}).eq("id",e.id).select();if(l)throw i({variant:"destructive",title:"Error saving schedule",description:"Failed to update schedule. Please try again."}),l;i({title:"Schedule updated!",description:"Your lending schedule has been updated."})}catch(e){console.error("Error saving schedule:",e),i({variant:"destructive",title:"Error saving schedule",description:"An unexpected error occurred. Please try again."})}};return d?t?(0,a.jsx)(u.Z,{className:"bg-white border rounded-lg shadow-sm p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):s&&e?(0,a.jsxs)(u.Z,{className:"bg-white border rounded-lg shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)(v.A,{className:"h-5 w-5"}),(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini",children:"Lending Schedule"})]}),(0,a.jsx)("p",{className:"text-base text-muted-foreground font-hanken mb-6",children:"Click and drag to select multiple time slots when you're available."}),c?(0,a.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("div",{className:"flex gap-[1px] overflow-x-auto pb-4 select-none",ref:j,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-[1px] pr-2 sticky left-0 bg-white z-10",children:[(0,a.jsx)("div",{className:"h-8 font-medium font-hanken"}),_.slice(0,b?_.length:12).map(e=>(0,a.jsx)("div",{className:"h-8 flex items-center justify-end pr-2 text-sm text-muted-foreground font-hanken",children:A(e)},e))]}),C.map(e=>(0,a.jsxs)("div",{className:"flex flex-col gap-[1px] min-w-[100px]",children:[(0,a.jsx)("div",{className:"h-8 font-medium font-hanken text-center border-b",children:D(e)}),x[e].slots.slice(0,b?_.length:12).map((t,s)=>(0,a.jsxs)("button",{onMouseDown:()=>I(e,t.hour,t.selected),onMouseEnter:()=>M(e,t.hour),className:(0,k.cn)("h-8 text-xs font-medium transition-colors relative","hover:bg-primary/90 hover:text-primary-foreground",t.selected?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground","border-r border-background last:border-r-0",s%2==0?"bg-opacity-90":"bg-opacity-100"),children:[t.selected&&(0,a.jsx)(N.A,{className:"h-3 w-3 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"}),(0,a.jsx)("span",{className:"sr-only",children:A(t.hour)})]},s))]},e))]}),!b&&(0,a.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-white to-transparent pointer-events-none"}),(0,a.jsx)("div",{className:"flex justify-center mt-2",children:(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>E(!b),className:"flex items-center gap-2 text-muted-foreground hover:text-foreground",children:b?(0,a.jsxs)(a.Fragment,{children:["Show Less ",(0,a.jsx)(y.A,{className:"h-4 w-4"})]}):(0,a.jsxs)(a.Fragment,{children:["Show More ",(0,a.jsx)(w.A,{className:"h-4 w-4"})]})})}),b&&(0,a.jsx)(l.$,{onClick:P,className:"w-full mt-6",children:"Save Schedule"})]})]}):(0,a.jsx)(u.Z,{className:"bg-white border rounded-lg shadow-sm p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Please sign in to manage your schedule"})})}):null}var A=s(3920),D=s(4857),I=s(7837),M=s(9253);let L=(e,t,s)=>t?"success":s?"warning":"default";function P(){var e,t;let{user:s}=(0,m.A)(),[i,u]=(0,r.useState)(!1),[x,f]=(0,r.useState)([]),[p,g]=(0,r.useState)([]),[j,v]=(0,r.useState)(0),[N,y]=(0,r.useState)(0);(0,o.useRouter)();let[w,k]=(0,r.useState)(!1),[_,C]=(0,r.useState)(null),[P,R]=(0,r.useState)(!1),[z,F]=(0,r.useState)({}),[U,J]=(0,r.useState)(!1),{toast:$}=(0,S.d)(),O=e=>{if(!e)return"N/A";try{return(0,M.GP)(new Date(e),"MMM d, yyyy")}catch(e){return"Invalid date"}},Y=async e=>{try{let{data:t,error:s}=await n.N.from("logs").select("*").eq("job_id",e).order("created_at",{ascending:!1}).limit(1);if(s)throw s;t&&t.length>0&&F(s=>({...s,[e]:t[0].logs}))}catch(e){console.error("Error fetching logs:",e)}},B=async e=>{try{await navigator.clipboard.writeText(e),$({title:"Copied to clipboard",description:"Job logs have been copied to your clipboard"})}catch(e){$({title:"Failed to copy",description:"Could not copy logs to clipboard",variant:"destructive"})}},T=(e,t)=>{let s=new Blob([t],{type:"text/plain"}),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download="job-".concat(e,"-logs.txt"),document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r)};if((0,r.useEffect)(()=>{J(!0),u(!0)},[]),(0,r.useEffect)(()=>{i&&s&&(async()=>{k(!0);try{let{data:e,error:t}=await n.N.from("jobs").select("*").eq("user_id",s.id).order("created_at",{ascending:!1});if(t)throw t;let a=(e||[]).sort((e,t)=>e.completed&&!t.completed?-1:!e.completed&&t.completed?1:e.lender_id&&!t.lender_id?-1:!e.lender_id&&t.lender_id?1:0);f(a),a.forEach(e=>{(e.completed||e.lender_id)&&Y(e.job_id)});let{data:r,error:l}=await n.N.from("jobs").select("*").eq("lender_id",s.id).order("created_at",{ascending:!1}).limit(5);if(l){console.error("Error fetching lending jobs:",l);return}g(r||[]);let i=(e||[]).reduce((e,t)=>e+(t.price||0),0),d=(r||[]).reduce((e,t)=>e+(t.price||0),0);v(i),y(d)}catch(e){console.error("Error fetching jobs:",e)}finally{k(!1)}})()},[i,s]),!U)return(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[60vh]",children:(0,a.jsx)(h.A,{className:"h-8 w-8 animate-spin text-primary"})});let Z=e=>{C(e)},G=async e=>{if(!s){$({title:"Error",description:"You must be logged in to download files",variant:"destructive"});return}try{let t=await fetch("http://localhost:8000/retrieve-files-for-job?job_id=".concat(e,"&uuid=").concat(s.id));(await t.json()).files.forEach(e=>{let t=new Blob([atob(e.content)],{type:"application/octet-stream"}),s=window.URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download=e.filename,document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(s),document.body.removeChild(a)})}catch(e){console.error("Error downloading files:",e)}},V=e=>(0,a.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50/50 transition-all duration-200 backdrop-blur-sm shadow-sm hover:shadow-md",children:(0,a.jsx)("div",{className:"flex justify-between items-start",children:(0,a.jsxs)("div",{className:"space-y-2 w-full",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("p",{className:"font-hanken text-sm",children:["ID: ",e.id]}),(0,a.jsxs)("p",{className:"font-hanken text-xs text-muted-foreground break-all",children:[(0,a.jsx)("span",{className:"font-bold",children:"Job ID:"})," ",e.job_id||"N/A"]})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:(0,a.jsx)(c.E,{variant:L(e.status,e.completed,e.lender_id),children:e.completed?"Completed":e.lender_id?"In Progress":"Pending"})})]}),(0,a.jsxs)("p",{className:"font-hanken text-sm text-muted-foreground",children:["Created: ",O(e.created_at)]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(e.completed||e.lender_id)&&(0,a.jsx)("span",{className:"text-sm text-primary underline cursor-pointer hover:text-primary/80 font-hanken",onClick:t=>{t.stopPropagation(),Z(e)},children:"See logs"}),e.completed&&(0,a.jsx)(l.$,{variant:"outline",size:"sm",onClick:t=>{t.stopPropagation(),G(e.job_id)},children:"Download"})]})]})})},e.id);return(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-6 p-4 md:p-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h1",{className:"text-4xl font-medium font-oddlini",children:"Dashboard"}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(l.$,{asChild:!0,variant:"outline",children:(0,a.jsx)(d(),{href:"/create",children:"Upload New Image"})}),(0,a.jsx)(l.$,{asChild:!0,children:(0,a.jsx)(d(),{href:"/jobs",children:"View All Jobs"})})]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white/95 border rounded-lg shadow-sm backdrop-blur-sm p-6 transition-all duration-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini mb-4",children:"Your Uploads"}),w?(0,a.jsx)("div",{className:"flex justify-center items-center min-h-[200px]",children:(0,a.jsx)(h.A,{className:"h-8 w-8 animate-spin text-gray-500"})}):x.length>0?(0,a.jsxs)("div",{className:"space-y-4",children:[(P?x:x.slice(0,4)).map(V),x.length>4&&(0,a.jsx)(l.$,{variant:"ghost",className:"w-full",onClick:()=>R(!P),children:P?"Show Less":"Show ".concat(x.length-4," More")})]}):(0,a.jsx)("p",{className:"text-muted-foreground font-hanken",children:"No uploads yet"})]}),(0,a.jsxs)("div",{className:"bg-white/95 border rounded-lg shadow-sm backdrop-blur-sm p-6 transition-all duration-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini mb-4",children:"Your Lending"}),p.length>0?(0,a.jsxs)("div",{className:"space-y-4",children:[p.map(V),(0,a.jsx)(l.$,{asChild:!0,variant:"ghost",className:"w-full",children:(0,a.jsx)(d(),{href:"/jobs",children:"View All Lending"})})]}):(0,a.jsx)("p",{className:"text-muted-foreground font-hanken",children:"No lending activity yet"})]}),(0,a.jsxs)("div",{className:"bg-white/95 border rounded-lg shadow-sm backdrop-blur-sm p-6 transition-all duration-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini mb-1",children:"Money Spent"}),(0,a.jsx)("p",{className:"text-muted-foreground font-hanken mb-4",children:"Money will be charged upon the succesful completion of the job"}),(0,a.jsxs)("div",{className:"flex items-baseline",children:[(0,a.jsxs)("span",{className:"text-3xl font-bold font-hanken text-primary",children:["$",j.toFixed(2)]}),(0,a.jsx)("span",{className:"ml-2 text-sm text-muted-foreground font-hanken",children:"total spent on compute"})]})]}),(0,a.jsxs)("div",{className:"bg-white/95 border rounded-lg shadow-sm backdrop-blur-sm p-6 transition-all duration-200",children:[(0,a.jsx)("h2",{className:"text-2xl font-medium font-oddlini mb-1",children:"Money Received"}),(0,a.jsx)("p",{className:"text-muted-foreground font-hanken mb-4",children:"Money will be awarded upon the succesful completion of the job"}),(0,a.jsxs)("div",{className:"flex items-baseline",children:[(0,a.jsxs)("span",{className:"text-3xl font-bold font-hanken text-green-600",children:["$",N.toFixed(2)]}),(0,a.jsx)("span",{className:"ml-2 text-sm text-muted-foreground font-hanken",children:"total earned from lending"})]})]})]}),(0,a.jsx)(b,{}),(0,a.jsx)(E,{}),(0,a.jsx)(I.lG,{open:!!_,onOpenChange:()=>C(null),children:(0,a.jsxs)(I.Cf,{className:"sm:max-w-[600px] w-[700px] shadow-lg backdrop-blur-[2px] bg-white/95 border-none",children:[(0,a.jsx)(I.c7,{className:"mb-3",children:(0,a.jsx)(I.L3,{children:"Job Details"})}),_&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"grid gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"ID"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:_.id})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Job ID"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground break-all",children:_.job_id||"N/A"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Status"}),(0,a.jsx)(c.E,{variant:L(_.status,_.completed,_.lender_id),children:_.completed?"Completed":_.lender_id?"In Progress":"Pending"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Compute Type"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:(null===(e=_.compute_type)||void 0===e?void 0:e.toLocaleUpperCase())||"N/A"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Price"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["$",(null===(t=_.price)||void 0===t?void 0:t.toFixed(2))||"0.00"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Created At"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:(e=>{if(!e)return"N/A";try{return(0,M.GP)(new Date(e),"MMM d, yyyy HH:mm")}catch(e){return"Invalid date"}})(_.created_at)})]}),void 0!==_.progress&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Progress"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[_.progress,"%"]})]}),_.error_message&&(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-red-500",children:"Error"}),(0,a.jsx)("p",{className:"text-sm text-red-500",children:_.error_message})]})]}),z[_.job_id]&&(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2 w-[93%]",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Logs"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>B(z[_.job_id]),className:"h-8",children:[(0,a.jsx)(A.A,{className:"h-4 w-4 mr-1"}),"Copy"]}),(0,a.jsxs)(l.$,{variant:"outline",size:"sm",onClick:()=>T(_.job_id,z[_.job_id]),className:"h-8",children:[(0,a.jsx)(D.A,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}),(0,a.jsxs)("div",{className:"w-[93%]",children:[(0,a.jsx)("pre",{className:"text-sm text-muted-foreground whitespace-pre-wrap bg-slate-950 text-slate-50 p-4 rounded-md font-mono max-h-[300px] overflow-y-auto scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-slate-800",children:(0,a.jsx)("code",{children:z[_.job_id]})}),(0,a.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-4 bg-gradient-to-t from-slate-950/50 to-transparent pointer-events-none"})]})]})]})]})})]})}},5158:(e,t,s)=>{"use strict";s.d(t,{ToastProvider:()=>l,d:()=>i});var a=s(5155),r=s(2115);let n=r.createContext(void 0);function l(e){let{children:t}=e,[s,l]=r.useState({toasts:[]}),i=r.useCallback(e=>{let t=Math.random().toString(36).substr(2,9);l(s=>({...s,toasts:[{...e,id:t},...s.toasts].slice(0,1)}))},[]),d=r.useCallback(e=>{l(t=>({...t,toasts:t.toasts.filter(t=>void 0!==e&&t.id!==e||(setTimeout(()=>{l(e=>({...e,toasts:e.toasts.filter(e=>e.id!==t.id)}))},1e6),!1))}))},[]);return(0,a.jsx)(n.Provider,{value:{...s,toast:i,dismiss:d},children:t})}function i(){let e=r.useContext(n);if(!e)throw Error("useToast must be used within a ToastProvider");return e}},9286:(e,t,s)=>{"use strict";s.d(t,{E:()=>i});var a=s(5155);s(2115);var r=s(1027),n=s(9602);let l=(0,r.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-green-100 text-green-800 hover:bg-green-200",warning:"border-transparent bg-amber-100 text-amber-800 hover:bg-amber-200"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,n.cn)(l({variant:s}),t),...r})}},4085:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var a=s(5155),r=s(2115),n=s(2317),l=s(1027),i=s(9602);let d=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,asChild:o=!1,...c}=e,m=o?n.DX:"button";return(0,a.jsx)(m,{className:(0,i.cn)(d({variant:r,size:l,className:s})),ref:t,...c})});o.displayName="Button"},5007:(e,t,s)=>{"use strict";s.d(t,{Z:()=>l});var a=s(5155),r=s(2115),n=s(9602);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});l.displayName="Card"},7837:(e,t,s)=>{"use strict";s.d(t,{Cf:()=>m,Es:()=>h,L3:()=>x,c7:()=>u,lG:()=>d,rr:()=>f});var a=s(5155),r=s(2115),n=s(6217),l=s(767),i=s(9602);let d=n.bL;n.l9;let o=n.ZL;n.bm;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});c.displayName=n.hJ.displayName;let m=r.forwardRef((e,t)=>{let{className:s,children:r,...d}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(c,{}),(0,a.jsxs)(n.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...d,children:[r,(0,a.jsxs)(n.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=n.UC.displayName;let u=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};u.displayName="DialogHeader";let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};h.displayName="DialogFooter";let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});x.displayName=n.hE.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});f.displayName=n.VY.displayName},6888:(e,t,s)=>{"use strict";s.d(t,{A:()=>d,AuthProvider:()=>i});var a=s(5155),r=s(2115),n=s(4457);let l=(0,r.createContext)({user:null,session:null,loading:!0});function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null),[d,o]=(0,r.useState)(null),[c,m]=(0,r.useState)(!0),[u,h]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{h(!0),(async()=>{try{var e;let{data:{session:t}}=await n.N.auth.getSession();o(t),i(null!==(e=null==t?void 0:t.user)&&void 0!==e?e:null)}catch(e){console.error("Error getting session:",e)}finally{m(!1)}})();let{data:{subscription:e}}=n.N.auth.onAuthStateChange((e,t)=>{var s;o(t),i(null!==(s=null==t?void 0:t.user)&&void 0!==s?s:null),m(!1)});return()=>{e.unsubscribe()}},[]),u)?(0,a.jsx)(l.Provider,{value:{user:s,session:d,loading:c},children:t}):null}let d=()=>{let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9602:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n});var a=s(3463),r=s(9795);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},4457:(e,t,s)=>{"use strict";s.d(t,{N:()=>a});let a=(0,s(5382).createBrowserClient)("https://pristirosscbgmkblozz.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InByaXN0aXJvc3NjYmdta2Jsb3p6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDAyMDI2MzQsImV4cCI6MjA1NTc3ODYzNH0.7NWqkC5MUndwTxuLGlyBIEskItFzJ3M8iAKcARc_1yM")}},e=>{var t=t=>e(e.s=t);e.O(0,[181,173,29,980,779,128,441,517,358],()=>t(5863)),_N_E=e.O()}]);